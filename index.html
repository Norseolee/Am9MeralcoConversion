<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Am9 Commercial Conversion</title>
    <link rel="stylesheet" href="css/index-style.css" />
    <script src="javascript/index-javascript.js"></script>
    <!-- JSPDF CONVERTER -->
    <!-- HTML2PDF LIBRARY -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
  </head>
  <body>
    <div class="printable">
      <div class="Header">
        <img src="Images/meralcobill.png" alt="" />
        <h1>Am9 Electricity Billing</h1>
        <img src="Images/am9commercial.jpg" alt="" />
      </div>
      <div class="body">
        <div class="subject">
          <div class="information">
            <p>Name: <span class="Name"></span></p>
            <p>Building and Stall No.: <span class="Building"></span></p>
          </div>
          <div class="due_kwh">
            <p>Due Date: <span class="DueDate"></span></p>
            <p>Per Kwh: <span class="PerKwh"></span></p>
          </div>
        </div>
        <div class="billing">
          <div class="reading">
            <p>Date of Reading: <span class="DateOfReading"></span></p>
            <p>Previous Reading: <span class="PreviousReading"></span></p>
            <p>Current Reading: <span class="CurrentReading"></span></p>
            <p>Consume: <span class="Consume"></span></p>
          </div>
          <div class="amount">
            <p>Total Amount: PHP <span class="TotalAmount"></span></p>
          </div>
        </div>
        <div class="sign">
          <p>Date Paid:</p>
          <p>Staff Signature and name:</p>
        </div>
      </div>
    </div>

    <div class="select">
      <label for="selection">Select Tenant: </label>
      <select name="selection" id="selection">
        <option value="0"></option>
      </select>

      <button class="button green" onclick="toggleSection('add-section')">
        Add
      </button>

      <button class="button" onclick="toggleSection('update-section')">
        Update
      </button>

      <button class="button" onclick="toggleSection('history-section')">
        History
      </button>

      <button class="button" onclick="printContent()">Print</button>
      <button class="button red">Delete Tenant</button>
    </div>

    <div class="add-section">
      <div class="add-content">
        <h1 style="text-align: center">ADD NEW TENANT</h1>
        <div class="add-Information">
          <label for="add-Name">Name: </label>
          <input type="text" name="add-Name" id="add-Name" />

          <label for="add-Building">Building and Stall: </label>
          <input type="text" name="add-Building" id="add-Building" />
        </div>
        <div class="add-Due-kwh">
          <label for="add-DueDate">Due Date: </label>
          <input type="text" name="add-DueDate" id="add-DueDate" />

          <label for="add-PerKwh">Per Kwh</label>
          <input type="text" name="add-PerKwh" id="add-PerKwh" />
        </div>
        <div class="add-Billing">
          <label for="add-DateOfReading">Date of Reading: </label>
          <input type="text" name="add-DateOfReading" id="add-DateOfReading" />

          <label for="add-PreviousReading">Previous Reading: </label>
          <input
            type="text"
            name="add-PreviousReading"
            id="add-PreviousReading" />

          <label for="add-CurrentReading">Current Reading: </label>
          <input
            type="text"
            name="add-CurrentReading"
            id="add-CurrentReading" />

          <label for="add-Consume">Consume: </label>
          <input type="text" name="add-Consume" id="add-Consume" />
        </div>
        <div class="add-Totalamount">
          <label for="add-TotalAmount"
            >Total Amount: <span class="TotalAmount"></span
          ></label>
        </div>
        <button class="button green">Add New Tenant</button>
      </div>
    </div>
    <div class="update-section">
      <div class="update-content">
        <h1 style="text-align: center">UPDATE READING</h1>
        <div class="update-Information">
          <label for="add-Name">Name: </label>
          <input type="text" name="add-Name" id="add-Name" />

          <label for="add-Building">Building and Stall: </label>
          <input type="text" name="add-Building" id="add-Building" />
        </div>
        <div class="update-Due-kwh">
          <label for="add-DueDate">Due Date: </label>
          <input type="text" name="add-DueDate" id="add-DueDate" />

          <label for="add-PerKwh">Per Kwh</label>
          <input type="text" name="add-PerKwh" id="add-PerKwh" />
        </div>
        <div class="update-Billing">
          <label for="add-DateOfReading">Date of Reading: </label>
          <input type="text" name="add-DateOfReading" id="add-DateOfReading" />

          <label for="add-PreviousReading">Previous Reading: </label>
          <input
            type="text"
            name="add-PreviousReading"
            id="add-PreviousReading" />

          <label for="add-CurrentReading">Current Reading: </label>
          <input
            type="text"
            name="add-CurrentReading"
            id="add-CurrentReading" />

          <label for="add-Consume">Consume: </label>
          <input type="text" name="add-Consume" id="add-Consume" />
        </div>
        <div class="update-Totalamount">
          <label for="TotalAmount"
            >Total Amount: <span class="TotalAmount"></span
          ></label>
        </div>
        <button class="button">Update</button>
      </div>
    </div>
    <div class="history-section">
      <div class="history-content">
        <div class="body-history">
          <p>Name: <span class="History-Name"></span></p>
          <p>Building: <span class="History-Builing"></span></p>
        </div>
        <div class="history"></div>
        <button class="button">Print</button>
      </div>
    </div>

    <script>
      const jsPDF = window.jspdf;

      function toggleSection(sectionName) {
        var sections = ["add-section", "update-section", "history-section"];

        for (var i = 0; i < sections.length; i++) {
          var element = document.querySelector("." + sections[i]);
          if (sections[i] === sectionName) {
            element.style.display = "block";
          } else {
            element.style.display = "none";
          }
        }
      }
      function showError(errorMessage) {
        alert("Error: " + errorMessage);
      }

      function printContent() {
        const pdf = new jsPDF({
          format: "a4",
          orientation: "portrait",
        });

        const bodyElement = document.querySelector(".printable");

        if (bodyElement) {
          html2pdf(bodyElement);
        } else {
          showError('Element with class "body" not found.');
        }
      }
    </script>
  </body>
</html>
